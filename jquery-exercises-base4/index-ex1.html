<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jquery - Partie 4 - Exercice 1</title>
  </head>
  <body>

    <input type="radio" value="stone" name="userChoice" id="stone"><label for="stone">Stone</label><br>
    <input type="radio" value="leaf" name="userChoice" id="leaf"><label for="leaf">Leaf</label><br>
    <input type="radio" value="scissors" name="userChoice" id="scissors"><label for="scissors">Scissors</label><br>
    <button class="shifumi" type="button">Shifumi!</button>
    <div class="victory">You won <span>0</span> times.</div>
    <div class="message"></div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      let victory = 0;
      let choice = ['stone','leaf','scissors'];

      $('.shifumi').on('click', function(e) {
        $('.message').empty();
        let randomChoice = Math.round( Math.random() * 2 );
        let userChoice = $('input[type=radio]:checked').val();
        if (choice[randomChoice] == userChoice) {
          $('.message').html('You\'ve the same choice. Try again.');
        } else if (	(choice[randomChoice] == "stone" && userChoice == "scissors") || (choice[randomChoice] == "leaf" && userChoice == "stone") || (choice[randomChoice] == "scissors" && userChoice == "leaf") ) {
          $('.message').html('✗ You lost. The computer chose "' + choice[randomChoice] + '"');
        } else {
          $('.message').html('✓ Congrats! You won');
          victory++;
          $('.victory span').text(victory);
        }
      })

    </script>
  </body>
</html>
