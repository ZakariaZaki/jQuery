<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Exercice Jquery - Partie 3</title>
    <style>
      body {
        margin:0;
        padding: 0;
      }
      .square {
        width:100px;
        height:100px;
        background: darkblue;
      }
    </style>
  </head>
  <body>
    <div class="square"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      // Ex 5
      let originalPosition = $('.square').offset()

      $(document).on('keydown', function(e) {

        let offset = $('.square').offset();
        if(e.key == 'ArrowUp') {
          $('.square').offset({ top: offset.top - 10, left: offset.left });
          if ($('.square').offset().top < 0) { // on recalcule pour voir si on est pas au bord
            $('.square').offset(originalPosition);
          }
        } else if (e.key == 'ArrowRight') {
          let documentWidth = $(document).width();
          let squareWidth = $('.square').width()
          $('.square').offset({ top: offset.top, left: offset.left + 10 });
          if ($('.square').offset().left > (documentWidth - squareWidth)) {
            $('.square').offset(originalPosition);
          }
        } else if (e.key == 'ArrowDown') {
          let documentHeight = $(document).height();
          let squareHeight = $('.square').height()
          $('.square').offset({ top: offset.top + 10, left: offset.left });
          if ($('.square').offset().top > (documentHeight - squareHeight)) {
            $('.square').offset(originalPosition);
          }
        } else if (e.key == 'ArrowLeft') {
          $('.square').offset({ top: offset.top, left: offset.left - 10 });
          if ($('.square').offset().left < 0) { // on recalcule pour voir si on est pas au bord
            $('.square').offset(originalPosition);
          }
        }
      });

    </script>


  </body>
</html>
